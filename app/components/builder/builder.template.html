<h2 layout="row" class="md-display-1">2. Build</h2>
<p layout="row">Select and customize your tile patter:</p>
<div layout="column" class="builder" layout-align="center start" layout-margin layout-wrap flex>
    <div class="tile-selector" flex layout-fill>
        <ul>
            <li class="tile-clone-button">
                <button>
                    <md-tooltip>Add more tiles</md-tooltip>
                    <md-icon class="material-icons">&#xE147;</md-icon>
                </button>
            </li>
            <li class="tile-selector-item" ng-repeat="item in $ctrl.getSelectedTiles()" ng-click="$ctrl.customizeTile(item)">
                <tile-canvas canvasid="#canvas" tiledata="{{ item }}"></tile-canvas>
            </li>
        </ul>
    </div>
    <div layout="column" class="tile-bottom-sheet" ng-class="{ true: 'collection-tile-selected', false: ''}[!$ctrl.areSelectedCollections()]">
        <div layout="column" layout-align="start start">
            <h3>Size: {{ ::$ctrl.getSelectedCollectionTiles().title }}</h3>
            <p layout="row">Select all the tile designs you like:</p>
        </div>
        <div layout="row" layout-align="center center" ng-if="$ctrl.loading">
            <md-progress-circular md-mode="indeterminate" md-diameter="100"></md-progress-circular>
        </div>
        <div class="tile-selector" layout="row" layout-align="center center" layout-margin layout-wrap>
            <div class="tile-item" md-whiteframe="1" ng-repeat="item in $ctrl.getSelectedCollectionTiles().tiles" ng-class="{true:'selected', false:''}[$ctrl.isSelectedTile(item.id)]" ng-click="$ctrl.toggleTile(item)">
                <img class="tile-image" ng-src="{{ item.url }}"/>
                <h3 class="tile-title" ng-bind="::item.name"></h3>
                <div class="selected-overlay"></div>
                <md-icon class="material-icons selected-icon">&#xE86C;</md-icon>
            </div>
        </div>
    </div>
    <div layout="row" layout-fill layout-wrap layout-align="center start">
        <div class="worktable-tools" flex="35" layout-fill layout-wrap ayout-align="center start" md-whiteframe="1">
            <md-list ng-cloak>
                <md-subheader class="md-no-sticky">Grid actions</md-subheader>
                <md-list-item>
                    <div class="md-list-item-text">
                        <h4>Grid size</h4>
                    </div>
                    <div class="md-secondary">
                        <label class="grid-size-selector" ng-repeat="type in $ctrl.getGridTypes()">
                            <input type="radio" ng-model="$ctrl._selectedGridType" ng-value="type" ng-change="$ctrl.setSelectedGridType(type)">
                            <img ng-src="{{ type.url }}" aria-label="{{ type.url }}">
                            <span class="grid-size-selector-text" ng-bind="::type.title"></span>
                        </label>
                    </div>
                    <md-divider></md-divider>
                </md-list-item>
            </md-list>
        </div>
        <div class="work-table" flex="65" layout-fill layout-wrap  layout-align="center start">
            <div class="grid">
                <div class="row" ng-repeat="row in $ctrl.getGrid()" flex>
                    <span class="cell" ng-style="$ctrl.getTableStyle()" ng-repeat="col in row" ng-if="col.active"></span>
                </div>
            </div>
        </div>
    </div>
</div>
<md-toolbar class="bottom-navigation">
    <div layout="row" layout-sm="column" layout-align="end center" layout-wrap layout-margin>
        <md-button ng-click="$ctrl.completeStep()">
            Next <md-icon class="material-icons">&#xE409;</md-icon>
        </md-button>
    </div>
</md-toolbar>